{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dani/Escritorio/Projects/blog-react/frontend-blog/src/pages/postcardview/postcardview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, Component, useContext } from 'react';\nimport Navbar from '../../components/navbar/navbar';\nimport styles from './postcardview.module.css';\nimport PostCard from '../../components/postcard/postcard';\nimport { Link } from 'react-router-dom';\nimport { POST, POSTBYID } from '../../routes/routes';\nimport { PostsContext } from '../../contexts/postcontext';\nimport Button from '../../components/button/button';\nimport './postcardview.css';\nimport icon from './assets/search.png';\n\nconst PostcardView = () => {\n  _s();\n\n  const {\n    posts,\n    icons,\n    setPosts\n  } = useContext(PostsContext);\n  const [selected, setSelected] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const [savedPosts, setSavedPosts] = useState([]);\n\n  const handleSelectChange = e => {\n    setSelected(e.target.value);\n  };\n\n  const handleSearchChange = e => {\n    setSearch(e.target.value);\n  };\n\n  let resultArray = [];\n\n  const searchClick = () => {\n    setPosts(savedPosts);\n    resultArray = [];\n    let result;\n    posts.map(item => {\n      result = item.title.includes(search);\n\n      if (result == true) {\n        resultArray.push(item);\n      }\n    });\n    setPosts(resultArray);\n    console.log(posts);\n  };\n\n  useEffect(() => {\n    setSavedPosts(posts);\n    console.log(savedPosts);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.__container_postcardview,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.__postcardview_div,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.__div_search,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \" form-control\",\n          type: \"text\",\n          name: \"search\",\n          placeholder: \"Busca lo que necesitas...\",\n          onChange: handleSearchChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"input-icon\",\n          src: icon,\n          alt: \"icon\",\n          onClick: searchClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control col-3 align-self-center mb-5\",\n          onChange: handleSelectChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            className: styles.__option,\n            label: \"Mostrar todo\",\n            selected: true,\n            value: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), icons.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n            className: styles.__option,\n            value: item.id,\n            label: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.__main_postcardview,\n        children: [posts.map(item => item.icon_id == selected || selected == 0 ? /*#__PURE__*/_jsxDEV(Link, {\n          to: POSTBYID + item.id,\n          children: /*#__PURE__*/_jsxDEV(PostCard, {\n            icon: item.icon_id,\n            title: item.title,\n            description: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostcardView, \"veIjw+wy4fEjuCSQiEGdweTMB4w=\");\n\n_c = PostcardView;\nexport default PostcardView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostcardView\");","map":{"version":3,"sources":["/home/dani/Escritorio/Projects/blog-react/frontend-blog/src/pages/postcardview/postcardview.js"],"names":["React","useEffect","useState","Component","useContext","Navbar","styles","PostCard","Link","POST","POSTBYID","PostsContext","Button","icon","PostcardView","posts","icons","setPosts","selected","setSelected","search","setSearch","savedPosts","setSavedPosts","handleSelectChange","e","target","value","handleSearchChange","resultArray","searchClick","result","map","item","title","includes","push","console","log","__container_postcardview","__postcardview_div","__div_search","__option","id","name","__main_postcardview","icon_id","description"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, Component, useContext} from 'react';\nimport Navbar from '../../components/navbar/navbar';\nimport styles from './postcardview.module.css';\nimport PostCard from '../../components/postcard/postcard';\nimport {Link} from 'react-router-dom';\nimport {POST, POSTBYID} from '../../routes/routes';\nimport { PostsContext } from '../../contexts/postcontext';\nimport Button from '../../components/button/button';\nimport './postcardview.css';                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \nimport icon from './assets/search.png';\n\nconst PostcardView = () => {\n\n  const { posts, icons, setPosts } = useContext(PostsContext);\n  const [selected, setSelected] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const [savedPosts, setSavedPosts] = useState([]);\n\n\n\n  const handleSelectChange = (e) => {\n    setSelected(e.target.value);\n  };\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value);\n  }\n  let resultArray = [];\n  const searchClick = () => {\n    setPosts(savedPosts);\n    resultArray = [];\n    let result;\n    posts.map(item => {\n      result = item.title.includes(search);\n      if (result == true) {\n        resultArray.push(item);\n      }\n    })  \n    setPosts(resultArray);\n    console.log(posts);\n  }\n  useEffect(() => {\n    setSavedPosts(posts);    \n    console.log(savedPosts);\n  },[])\n\n\n  return (\n    <div className={styles.__container_postcardview}>\n      \n      <div className={styles.__postcardview_div}>\n        <div className={styles.__div_search}>\n           \n          <input className=\" form-control\" type=\"text\" name=\"search\" placeholder=\"Busca lo que necesitas...\" onChange={handleSearchChange} />\n            <img className=\"input-icon\" src={icon} alt=\"icon\" onClick={searchClick} />          \n            <select className=\"form-control col-3 align-self-center mb-5\" onChange={handleSelectChange}>\n            <option\n              className={styles.__option}\n              label=\"Mostrar todo\"\n              selected\n              value=\"0\"\n            />\n            <hr />\n            {icons.map((item) => (\n              <option\n                className={styles.__option}\n                value={item.id}\n                label={item.name}\n              />\n            ))}\n          </select>\n        </div>\n        <div className={styles.__main_postcardview}>\n          {posts.map((item) =>\n            item.icon_id == selected || selected == 0 ? (\n              <Link to={POSTBYID + item.id}>\n                <PostCard\n                  icon={item.icon_id}\n                  title={item.title}\n                  description={item.description}\n                />\n              </Link>\n            ) : (\n              <></>\n            )\n          )}\n          ;\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostcardView;\n"]},"metadata":{},"sourceType":"module"}